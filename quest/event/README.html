#### QUEST EVENT ####

STEPS:

1- Think of the quest events and write them down with their player action.
2- Code the quest events with the functions below.
3- Write the key dialogues.
4- Test the quest via the test-event.html file.
ONCE THE QUEST WORKS
5- Create the key maps roughly.
6- Add the intermediates.
7- Create the key items.
8- Test the quest via your nodejs server. (check quest/testing)
ONCE THE QUEST WORKS
9- Polish.
	Add non-essential map decoration.
	Add non-essential dialogue.
	Add non-essential enemies.
10- Test the final version of the quest.



#####################
FUNCTIONS:
Those are the main functions you can use in your quest events. They all start by s.

###BASIC USAGE:###

Get a Quest Variable:
	s.get(key,'questVariableName');					Ex:		s.get(key,'haveKilledDragon');
	
Change a Quest Variable:
	s.set(key,'questVariableName',value);			Ex: 	s.set(key,'haveKilledDragon',true);
	
Add Item:
	s.addItem(key,'itemId',amount);					Ex: 	s.addItem(key,'gold',100);
	
Remove Item:
	s.removeItem(key,'itemId',amount);				Ex: 	s.removeItem(key,'gold',10);

Verify if the player has item (return boolean):		
	s.haveItem(key,'itemId',amount);					Ex:		if(s.haveItem(key,'gold',5)){ ... };

Test if enough inventory space for items (return boolean):		
	s.testItem(key,'itemId',amount);					Ex:		if(s.testItem(key,'gold',5)){ ... };	
	
Teleport a player:
	s.teleport(key,'mapId','spotLetter');	Ex:		s.teleport(key,'dragonLair','a');
	
Start a dialogue:
	s.dialogue(key,'npcId','convoId','nodeId');		Ex:		s.dialogue(key,'villager','giveQuest','intro');
	
Add regular text in Chat Box:
	s.chat(key,'text');								Ex:		s.chat(key,'This villager seems to need help.');

Pop Quest Window:
	s.startQuest(key);								Ex: 	s.startQuest(key);

	
	
	
	
	


### Examples: ###

q.event.teleportDragonLair = function(key){
	s.teleport(key,'dragonLair','a');								//teleport player in dragonLair in spot a.
	s.chat(key,'You have been teleport to the dragon lair.');		//display message
	s.addItem(key,'fireShield',1);								//give him a fireShield
	s.set(key,'insideDragonLair',true);							//set quest variable insideDragonLair to true.
};




#####################################
ADVANCED:

Teleport:
	s.teleport(key,'mapId','spotLetter',popup);
		if mapId has no @ 		=>	main instance 
		if mapId ends with @ 	=> 	team instance
		if mapId ends with @@	=>	solo instance

		spotLetter: only have access to the spots that are part of a map addon related to the quest

		popup = 0	=> teleport player instantly	(default)
		popup = 1 	=> popup a confirmation box. player can also choose the instance they want


Items Other formats:
	s.addItem(key,{firstItem:1,otherItem:3});
	s.removeItem(key,{firstItem:1,otherItem:3});
	
	s.haveItem(key,{firstItem:1,otherItem:3});
	s.testItem(key,{firstItem:1,otherItem:3});

	s.haveItem(key,{firstItem:1,otherItem:3},true);	//true => if have the items, remove the items and return true
	s.testItem(key,{firstItem:1,otherItem:3},true);	//true => if enough space for items, add the items and return true
		
		
		
Prevent player from moving (# of frames) (Server = 25 FPS) Done done, call the event. :
	s.freeze(key,time,event);					Ex: 	s.freeze(key,25*10,q.event.cutsceneDone);

Allow a frozen player to move again:
	s.unfreeze(key);								Ex: 	s.unfreeze(key);

Get Player Object:
	s.getAct(key);									Ex: 	s.getAct(key).hp += 100;
	
Change Player Sprite:
	s.setSprite(key,name,sizeMod);					Ex:		s.setSprite(key,'orc-melee',2);

Call Event in Future:		
	s.setTimeout(key,name,time,event);				Ex: 	s.setTimeout(key,'cutsceneEnd',25*10,q.event.csOutBoss);

Boost an actor:
	s.boost(key,boost);								Ex:		s.boost(key,[{'stat':'globalDef','type':"*",'value':10,'time':250,'name':'bossPhase2'}]);

Start a cutscene (aka following a path)
	s.cutscene(key,map,path);						Ex:		s.cutscene(key,'goblinLand','blue');
	
Get Npc (return first npc in the map with this tag (set via extra))	
	s.getNpc(key,tag);								Ex:		s.getNpc(key,'boss');	
	
Set Respawn (isSafe: will teleport there even if map no longer exist):
	s.setRespawn(key,map,letter,isSafe);			Ex:		s.setRespawn(key,'goblinLand','n1',false);
	
Call function for everyone in same team:
	s.teamForEach(key,testEvent,eventAction);		Ex: 	s.teamForEach(key,q.event.haveKilledBoss,q.event.teleportOutsideOfBossRoom);
	
	if testEvent is true for every player in team, it calls eventAction for every player.
	
Opens Highscore Window:
	s.highscoreWindow(key,category);				Ex: 	s.highscoreWindow(key,'fastest-time');
	
----------------

Special quest event names: (PARAM KEY)
	
	_start: 		event called automatically when starting the quest
	_death: 		event called automatically when dying
	_abandon:		event called automatically when abandoning quest
	_signIn:		event called automatically when player signs in after logging out
	_complete:		event called automatically when successfully completing a quest	
	_hint:			RETURN STRING, event that returns what is the current hint
	
		
	//for testing (need to set Quest.test = [YOURQUESTID])
	_test:{
		signIn:			event called when logging in	(ex: teleport next to npc that gives quest)
		firstSignIn:	event called when logging in for first time
	}
	
	_getScoreMod:		RETURN NUMBER, event that returns a global modifier for the passive score obtained from this quest.
	
	
Items:
	You can only add/remove items that you created exclusively for your quest. (Via q.item)



Naming Convention:
	EVENTS:
	
	Teleport:	tele[In or Out][Where]
		Ex: teleInCamp, teleOutLair
	
	Cutscene:	cs[In or Out or Test][Info]
		Ex: csInBoss, csOutVillage, csTest
		
	Item (When adding):	get[Item]
		Ex:	getFlower, getPotion
	
	Item Event:	item[Item][Effect]
		Ex: itemPotionDrink, itemShieldEquip,
	
	Enemy Death: kill[Enemy]
		Ex: killGoblin, killDragon
		
	Dialogue: talk[Who]
		Ex: talkRingo, talkBob
	
	Toggle: tg[On or Off][What it affects]
		Ex:	tgOnDoor,	tgOnGate,
	
	ViewedIf:	view[What]
		Ex: viewChest, viewBoss
	
	
	###########
	VARIABLES:	
	
	Enemy Death: kill[Enemy]	(NUMBER)
		Ex: killGoblin, killDragon
	
	Dialogue: talk[Who]			(BOOLEAN)
		Ex: talkRingo, talkBob
	
	Cutscene:	cs[In or Out][Info]	(BOOLEAN)
		Ex: csInBoss, csOutVillage

	Toggle: tg[On or Off][What it affects]	(BOOLEAN)
		Ex:	tgOnDoor,	tgOnGate,
	








